!function(){angular.module("myApp",["ui.bootstrap","ui.bootstrap.tpls","app.core","app.layout","app.main","app.home","app.viewitem","app.additem","app.signup","app.admin","app.manageItems","app.edititem","app.category","app.user","app.manageUsers","app.test"])}(),function(){"use strict";angular.module("app.admin",["ui.bootstrap","ui.bootstrap.tpls"])}(),function(){"use strict";angular.module("app.core",["ui.router","ui.bootstrap"])}(),function(){"use strict";angular.module("app.layout",["app.core"])}(),function(){"use strict";angular.module("app.main",["app.core"])}(),function(){"use strict";angular.module("app.signup",[])}(),function(){"use strict";angular.module("app.test",["app.core"])}(),function(){"use strict";angular.module("app.user",[])}(),function(){"use strict";angular.module("app.category",["app.core"])}(),function(){"use strict";angular.module("app.manageItems",["app.core"])}(),function(){"use strict";angular.module("app.manageComment",["app.core"])}(),function(){"use strict";angular.module("app.manageUsers",["app.core"])}(),function(){"use strict";angular.module("app.additem",["app.core"])}(),function(){"use strict";angular.module("app.edititem",[])}(),function(){"use strict";angular.module("app.viewitem",["app.core","app.test"])}(),function(){"use strict";angular.module("app.home",["app.main","app.core"])}(),function(){"use strict";function e(e,t){function a(){console.log("admin controller activated"),n.breadCrumbArray=t.getBreadCrumbs(),console.log(n.breadCrumbArray)}var n=this;n.breadCrumbArray=[],e.$on("$stateChangeSuccess",function(a,i,o,r,c){e.previousState=r.name,e.currentState=i.name,n.breadCrumbArray=t.getBreadCrumbs()}),a(),n.subMenuType={menuType:"admin"}}angular.module("app.admin").controller("adminCtrl",e),e.$inject=["$rootScope","breadCrumbService"]}(),function(){"use strict";function e(e,t,a){e.state("admin",{url:"/admin","abstract":!0,templateUrl:"app/admin/admin.html",data:{menuType:"abstract"},controller:"adminCtrl"}).state("admin.home",{url:"/home",templateUrl:"app/admin/admin_home.html",data:{menuType:["main","admin"],menuName:"Admin"}}).state("admin.managecategory",{url:"/managecategory",templateUrl:"app/admin/category/manage_category.html",data:{menuType:"admin",menuName:"Manage Categories"}}).state("admin.manageItem",{url:"/manageItem",templateUrl:"app/admin/item/manage_item.html",params:{messageData:null},data:{menuType:"admin",menuName:"Manage Items"}}).state("admin.AddItem",{url:"/adminadditem",templateUrl:"app/admin/item/add_item.html",data:{menuType:"admin",menuName:"Add Item"}}).state("admin.ViewItem",{url:"/adminviewitem",templateUrl:"app/admin/item/view_item.html",params:{item:{}},data:{menuType:"admin",menuName:"View Item"}}).state("admin.EditItem",{url:"/adminedititem",templateUrl:"app/admin/item/edit_item.html",params:{item:{}},data:{menuType:"admin",menuName:"Edit Item"}}).state("admin.ManageUser",{url:"/manageuser",templateUrl:"app/admin/user/manage_user.html",data:{menuType:"admin",menuName:"Manage Users"}}).state("admin.UserDetail",{url:"/userdetail/:userId",templateUrl:"app/admin/user/user_detail.html",data:{menuType:"admin",menuName:"User Detail"}}).state("admin.ManageComment",{url:"/managecomment",templateUrl:"app/admin/comment/comment_detail.html",data:{menuType:"admin",menuName:"Manage Comment"}}).state("admin.CommentDetail",{url:"/commentdetail/:commentId",templateUrl:"app/admin/comment/manage_comment.html",data:{menuType:"admin",menuName:"Comment Detail"}})}angular.module("app.core").config(["$stateProvider","$urlRouterProvider","$locationProvider",e])}(),function(){"use strict";var e=angular.module("app.core"),t={appTitle:"HotThaiDeals",menuType:{admin:"admin",user:"user",main:"main"},imageDataKey:"images",siteRoot:"http://localhost:3000/",images:{picInputText:["Select a Main Image","Select a Second Image","Select a Third Image","Select a Fourth Image",""],maxHeight:150,maxWidth:150,mainImageSrc:"/images/assets/mainimage.jpg",galleryImageSrc:"/images/assets/add.jpg",canvas01:"galleryCanvas01",canvas02:"galleryCanvas02",canvas03:"galleryCanvas03"},pagination:{allCategories:"all"}};e.value("config",t)}(),function(){"use strict";function e(e,t,a){t.otherwise("/main/"),e.state("main",{url:"/main","abstract":!0,templateUrl:"app/main/main.html",data:{menuType:"abstract"}}).state("main.home",{url:"/","abstract":!1,templateUrl:"app/main/home/home.html",data:{menuType:["main","mainSub"],menuName:"Home"},params:{page:1,category:"all"}}).state("main.query",{url:"/:category/:page","abstract":!1,templateUrl:"app/main/home/home.html",data:{menuType:"hidden"}}).state("main.additem",{url:"/item",templateUrl:"app/item/additem/additem.html",data:{menuType:"mainSub",menuName:"Add Item"}}).state("viewitem",{url:"/item/:id",templateUrl:"app/item/viewitem/viewitem.html",data:{menuType:"mainSub",menuName:"View Item"},params:{messageData:null,item:null}}).state("signup",{url:"/signup",templateUrl:"app/signup/signup.html",data:{menuType:"main",menuName:"Signup"}}).state("user",{url:"/user",templateUrl:"app/user/user.html",data:{menuType:"main",menuName:"User"}}),a.html5Mode(!0)}angular.module("app.core").config(["$stateProvider","$urlRouterProvider","$locationProvider",e])}(),function(){"use strict";function e(e){function t(){var t,a,n=[],i=e.$current.includes||void 0;if(i){for(var o in i)if(""!==o)if(a=e.get(o),t=a.data.menuName,1==a["abstract"])try{var r,c;r=e.get(o+".home")||void 0;var l;l=void 0==e.$current.includes[r.name],"object"==typeof r&&l&&(c=r.name||void 0,t=r.data.menuName||void 0,n.push({stateName:c,menuName:t}))}catch(s){console.log(s)}else n.push({stateName:o,menuName:t});return n}}var a={getBreadCrumbs:t};return a}angular.module("app.core").factory("breadCrumbService",e),e.$inject=["$state"]}(),function(){"use strict";function e(e,t){function a(){function t(e){return e.data}function a(e){console.log("XHR Failed for getCategoreis")}return e.get("/categories/getCategories").then(t)["catch"](a)}function n(t){function a(e){return e}function n(e){console.log("XHR Failed for createCategory")}return e.post("/categories/createCategory",t).success(a)["catch"](n)}function i(t){function a(e){return e}function n(e){console.log("XHR Failed for deleteCategory")}return e["delete"]("/categories/deleteCategory/"+t.id).success(a)["catch"](n)}function o(t){function a(e){return e}function n(e){console.log("XHR Failed for updateCategory")}return e.put("/categories/updateCategory",t).success(a)["catch"](n)}function r(t){function a(e){return e}function n(e){return console.log("XHR Failed for getCategoryById")}return e.get("/category/:id").success(a)["catch"](n)}var c={getCategories:a,createCategory:n,deleteCategory:i,updateCategory:o,getCategoryById:r};return c}angular.module("app.core").factory("categoryService",e),e.$inject=["$http","messageService"]}(),function(){"use strict";function e(e){function n(){var a=e.defer();return a.resolve(t),a.promise}function i(){var t=e.defer();return t.resolve(a),t.promise}var o={getDistricts:n,getProvinces:i};return o}angular.module("app.core").factory("geoService",e),e.$inject=["$q"];var t=[{District:"Bang Bon",Thai:"บางบอน"},{District:"Bang Kapi",Thai:"บางกะปิ"},{District:"Bang Khae",Thai:"บางแค"},{District:"Bang Khen",Thai:"บางเขน"},{District:"Bang Kho Laem",Thai:"บางคอแหลม"},{District:"Bang Khun Thian",Thai:"บางขุนเทียน"},{District:"Bang Na",Thai:"บางนา"},{District:"Bang Phlat",Thai:"บางพลัด"},{District:"Bang Rak",Thai:"บางรัก"},{District:"Bang Sue",Thai:"บางซื่อ"},{District:"Bangkok Noi",Thai:"บางกอกน้อย"},{District:"Bangkok Yai",Thai:"บางกอกใหญ่"},{District:"Bueng Kum",Thai:"บึงกุ่ม"},{District:"Chatuchak",Thai:"จตุจักร"},{District:"Chom Thong",Thai:"จอมทอง"},{District:"Din Daeng",Thai:"ดินแดง"},{District:"Don Mueang",Thai:"ดอนเมือง"},{District:"Dusit",Thai:"ดุสิต"},{District:"Huai Khwang",Thai:"ห้วยขวาง"},{District:"Khan Na Yao",Thai:"คันนายาว"},{District:"Khlong Sam Wa",Thai:"คลองสามวา"},{District:"Khlong San",Thai:"คลองสาน"},{District:"Khlong Toei",Thai:"คลองเตย"},{District:"Lak Si",Thai:"หลักสี่"},{District:"Lat Krabang",Thai:"ลาดกระบัง"},{District:"Lat Phrao",Thai:"ลาดพร้าว"},{District:"Min Buri",Thai:"มีนบุรี"},{District:"Nong Chok",Thai:"หนองจอก"},{District:"Nong Khaem",Thai:"หนองแขม"},{District:"Pathum Wan",Thai:"ปทุมวัน"},{District:"Phasi Charoen",Thai:"ภาษีเจริญ"},{District:"Phaya Thai",Thai:"พญาไท"},{District:"Phra Khanong",Thai:"พระโขนง"},{District:"Phra Nakhon",Thai:"พระนคร"},{District:"Pom Prap Sattru Phai",Thai:"ป้อมปราบศัตรูพ่าย"},{District:"Prawet",Thai:"ประเวศ"},{District:"Rat Burana",Thai:"ราษฎร์บูรณะ"},{District:"Ratchathewi",Thai:"ราชเทวี"},{District:"Sai Mai",Thai:"สายไหม"},{District:"Samphanthawong",Thai:"สัมพันธวงศ์"},{District:"Saphan Sung",Thai:"สะพานสูง"},{District:"Sathon",Thai:"สาทร"},{District:"Suan Luang",Thai:"สวนหลวง"},{District:"Taling Chan",Thai:"ตลิ่งชัน"},{District:"Thawi Watthana",Thai:"ทวีวัฒนา"},{District:"Thon Buri",Thai:"ธนบุรี"},{District:"Thung Khru",Thai:"ทุ่งครุ"},{District:"Wang Thonglang",Thai:"วังทองหลาง"},{District:"Watthana",Thai:"วัฒนา"},{District:"Yan Nawa",Thai:"ยานนาวา"}],a=[{Province:"Bangkok",Code:"BKK"},{Province:"Amnat Charoen",Code:"ACR"},{Province:"Ang Thong",Code:"ATG"},{Province:"Bueng Kan",Code:"BKN"},{Province:"Buriram",Code:"BRM"},{Province:"Chachoengsao",Code:"CCO"},{Province:"Chainat",Code:"CNT"},{Province:"Chaiyaphum",Code:"CPM"},{Province:"Chanthaburi",Code:"CTI"},{Province:"Chiang Mai",Code:"CMI"},{Province:"Chiang Rai",Code:"CRI"},{Province:"Chonburi",Code:"CBI"},{Province:"Chumphon",Code:"CPN"},{Province:"Kalasin",Code:"KSN"},{Province:"Kamphaeng Phet",Code:"KPT"},{Province:"Kanchanaburi",Code:"KRI"},{Province:"Khon Kaen",Code:"KKN"},{Province:"Krabi",Code:"KBI"},{Province:"Lampang",Code:"LPG"},{Province:"Lamphun",Code:"LPN"},{Province:"Loei",Code:"LEI"},{Province:"Lopburi",Code:"LRI"},{Province:"Mae Hong Son",Code:"MSN"},{Province:"Maha Sarakham",Code:"MKM"},{Province:"Mukdahan",Code:"MDH"},{Province:"Nakhon Nayok",Code:"NYK"},{Province:"Nakhon Pathom",Code:"NPT"},{Province:"Nakhon Phanom",Code:"NPM"},{Province:"Nakhon Ratchasima",Code:"NMA"},{Province:"Nakhon Sawan",Code:"NSN"},{Province:"Nakhon Si Thammarat",Code:"NRT"},{Province:"Nan",Code:"NAN"},{Province:"Narathiwat",Code:"NWT"},{Province:"Nong Bua Lamphu",Code:"NBP"},{Province:"Nong Khai City",Code:"NKI"},{Province:"Nonthaburi",Code:"NBI"},{Province:"Pathum Thani",Code:"PTE"},{Province:"Pattani",Code:"PTN"},{Province:"Phang Nga",Code:"PNA"},{Province:"Phatthalung",Code:"PLG"},{Province:"Phayao",Code:"PYO"},{Province:"Phetchabun",Code:"PNB"},{Province:"Phetchaburi",Code:"PBI"},{Province:"Phichit",Code:"PCT"},{Province:"Phitsanulok",Code:"PLK"},{Province:"Phra Nakhon Si Ayutthaya",Code:"AYA"},{Province:"Phrae",Code:"PRE"},{Province:"Phuket",Code:"PKT"},{Province:"Prachinburi",Code:"PRI"},{Province:"Prachuap Khiri Khan",Code:"PKN"},{Province:"Ranong",Code:"RNG"},{Province:"Ratchaburi",Code:"RBR"},{Province:"Rayong",Code:"RYG"},{Province:"Roi Et",Code:"RET"},{Province:"Sa Kaeo",Code:"SKW"},{Province:"Sakon Nakhon",Code:"SNK"},{Province:"Samut Prakan",Code:"SPK"},{Province:"Samut Sakhon",Code:"SKN"},{Province:"Samut Songkhram",Code:"SKM"},{Province:"Saraburi",Code:"SRI"},{Province:"Satun",Code:"STN"},{Province:"Sing Buri",Code:"SBR"},{Province:"Sisaket",Code:"SSK"},{Province:"Songkhla",Code:"SKA"},{Province:"Sukhothai",Code:"STI"},{Province:"Suphan Buri",Code:"SPB"},{Province:"Surat Thani",Code:"SNI"},{Province:"Surin",Code:"SRN"},{Province:"Tak",Code:"TAK"},{Province:"Trang",Code:"TRG"},{Province:"Trat",Code:"TRT"},{Province:"Ubon Ratchathani",Code:"UBN"},{Province:"Udon Thani",Code:"UDN"},{Province:"Uthai Thani",Code:"UTI"},{Province:"Uttaradit",Code:"UTD"},{Province:"Yala",Code:"YLA"},{Province:"Yasothon",Code:"YST"}]}(),function(){"use strict";function e(e,t){function a(e){var a=[],i=t.imageDataKey;if(e&&0!=e.length){var o=n(e,i,a);return o}return console.log("failed to find Image Data")}function n(e,a,i){for(var o in e)if(console.log(o===a),"object"==typeof e[o]&&null!==e[o])n(e[o],a,i);else if(o===a){o=JSON.parse(e[o]);for(var r in o){var c,l,s;c=o[r].mimetype.split("/")[1],l=o[r].filename,s=o[r].destination,i.push(t.siteRoot+s+l)}}return i}function i(e){var t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var a=e.split(",")[0].split(":")[1].split(";")[0],n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return new Blob([n],{type:a})}function o(e){var a=t.siteRoot+e[t.images.canvas01][0].path,n=t.siteRoot+e[t.images.canvas02][0].path,i=t.siteRoot+e[t.images.canvas03][0].path,o={main:a,gallery01:a,gallery02:n,gallery03:i};return o}function r(e){var a=t.siteRoot+t.images.galleryImageSrc,n=t.siteRoot+t.images.mainImageSrc,i={main:n,gallery01:a,gallery02:a,gallery03:a};return i}function c(e,a,n){var i,o,r;return e<a?(o=a/a*t.images.maxWidth*n,i=e/a*t.images.maxWidth*n):(o=a/e*t.images.maxHeight*n,i=e/e*t.images.maxHeight*n),r={height:Math.round(i),width:Math.round(o)}}function l(e){return e.forEach(function(e,a,n){"string"==typeof e.thumb_details&&(e.thumb_details=JSON.parse(e.thumb_details)),e.thumb_details&&e.thumb_details.length>0?e.thumbUrl=t.siteRoot+e.thumb_details[0].imageDest+e.thumb_details[0].thumbId+".jpg":e.thumbUrl=t.siteRoot+t.images.galleryImageSrc}),e}var s={processImageData:a,dataUriToBlob:i,buildImageUrls:o,buildPlaceholderImageUrls:r,buildThumbUrls:l,calcDimensions:c};return s}angular.module("app.core").factory("imageService",e),e.$inject=["$http","config"]}(),function(){"use strict";function e(e,t){function a(t){function a(e){return e.data}function n(e){return console.log("XHR Failed for getOneItem")}var i={cache:!0};return e.get("/item/getOneItem/"+t,i).then(a)["catch"](n)}function n(){function t(e){return e.data}function a(e){return console.log("XHR Failed for getAllItems")}return e.get("/item/getAllItems").then(t)["catch"](a)}function i(t,a,n){function i(e){return e.data}function o(e){return console.log("XHR Failed for getItems")}void 0==t&&(t="1"),void 0==a&&(a="10"),"All Items"==n&&(n="all");var r=!0;1!=t&&"1"!=t||(r=!1);var c={params:{pageNumber:t,pageSize:a,category:n},cache:r};return e.get("/item/getItems/"+n+"/"+t,c).then(i)["catch"](o)}function o(t){function a(e){return e}function n(e){return console.log("XHR Failed for updateItem")}return e.put("/item/updateItem",t).success(a)["catch"](n)}function r(t){function a(e){}function n(e){return console.log("XHR Failed for addItem")}return e.post("/item/createItem",t,{transforRequest:angular.identity,headers:{"Content-Type":void 0}}).success(a)["catch"](n)}function c(t){function a(e){return e}function n(e){return console.log("XHR Failed for deleteItem")}return e["delete"]("/item/deleteItem/"+t.id).success(a)["catch"](n)}function l(e){var t=e.substring(0,8),a=parseInt(t,16),n=new Date(1e3*a);return n}var s={getItems:i,getAllItems:n,getOneItem:a,updateItem:o,addItem:r,deleteItem:c,getDateFromId:l};return s}angular.module("app.core").factory("itemService",e),e.$inject=["$http","$cacheFactory"]}(),function(){"use strict";function e(e){function t(t){function a(e){return!(!("data"in e&&e.data.menuType)||e.data.menuType!=t&&e.data.menuType.indexOf(t)==-1)}var n=e.get(),i=n.filter(a);return i}var a={getMenuItems:t};return a}angular.module("app.core").factory("menuService",e),e.$inject=["$state"]}(),function(){"use strict";function e(e){var t={createMessage:function(t,a,n,i){i&&!i.message&&(i.message={}),i.message.show=!0,i.message.type=n,i.message.content=a,e(function(){return i.message.show=!1},t)}};return t}angular.module("app.core").factory("messageService",e),e.$inject=["$timeout"]}(),function(){"use strict";function e(e){e.$on("$stateChangeSuccess",function(e,t,a,n,i){})}angular.module("app.core").service("modelService",e),e.$inject=["$rootScope"]}(),function(){function e(){return{restrict:"A",link:function(e,t,a){var n=e.$eval(a.onChange);t.bind("change",n)}}}angular.module("app.core").directive("onChange",e)}(),function(){"use strict";function e(e){function t(t){function a(e){return e.data}function n(e){console.log("XHR Failed for getComments")}e.get("/getUser/"+t).then(a)["catch"](n)}function a(t){function a(e){return e}function n(e){return console.log("XHR Failed for add User")}e.post("/add",t).success(a)["catch"](n)}function n(t){function a(e){return e}function n(e){return console.log("XHR Failed for update User")}var i=t.userId;e.put("/update/"+i,t).success(a)["catch"](n)}function i(t){function a(e){return e}function n(e){return console.log("XHR Failed for delete User")}e["delete"]("/delete/"+t).success(a)["catch"](n)}function o(t,a){function n(e){return e.data}function i(e){console.log("XHR Failed for get users")}var o={params:{pageNumber:t,pageSize:a}};e.get("/users/"+t,o).then(n)["catch"](i)}var r={getOneUser:t,addUser:a,updateUser:n,deleteUser:i,getUsers:o};return r}angular.module("app.core").factory("userService",e),e.$inject=["$http"]}(),function(){"use strict";function e(e,t,a){function n(){console.log(t.appTitle+"loaded")}var i=this;i.navline={title:t.appTitle,text:"Create by Chris Ercilla",link:"www.blahblahblah.com"},e.$on("$stateChangeSuccess",function(t,a,n,i,o){e.previousState=i.name,e.currentState=a.name}),n()}angular.module("app.layout").controller("shellController",e),e.$inject=["$rootScope","config","breadCrumbService"]}(),function(){function e(){function e(e,t,a,n,i){function o(){r.menuItems=n.getMenuItems(r.subMenu.menuType)}var r=this;r.isActive=void 0,r.menuItems=[],o()}var t={bindToController:!0,controller:e,controllerAs:"vm",restrict:"EA",scope:{subMenu:"=subMenu"},templateUrl:"app/layout/submenu.html"};return t}angular.module("app.layout").directive("submenuNav",e),e.$inject=[]}(),function(){function e(e,t){function a(){function e(){a.menuItems=t.getMenuItems(n)}var a=this,n="main";a.menuTiems=[],a.isActive=void 0,e()}var n={bindToController:!0,controller:a,controllerAs:"vm",restrict:"EA",scope:{navline:"="},templateUrl:"app/layout/top-nav.html"};return n}angular.module("app.layout").directive("topNav",e),e.$inject=["$rootScope","menuService"]}(),function(){"use strict";function e(e,t){function a(){n.breadCrumbArray=t.getBreadCrumbs()}var n=this;n.subMenuType={menuType:"mainSub"},e.$on("$stateChangeSuccess",function(e,a,i,o,r){n.breadCrumbArray=t.getBreadCrumbs()}),a()}angular.module("app.main").controller("mainCtrl",e),e.$inject=["$rootScope","breadCrumbService"]}(),function(){"use strict";function e(){function e(){console.log("signUp Ctrl activated")}e()}angular.module("app.signup").controller("signUpCtrl",e)}(),function(){"use strict";function e(){function e(){console.log("asdf abstract test controller activated and something")}var t=this;t.subMenuType={menuType:"test"},e()}angular.module("app.test").controller("testCtrl",e),e.$inject=[]}(),function(){"use strict";function e(e,t,a){e.state("test",{url:"/test","abstract":!0,templateUrl:"app/test/test.html",data:{menuType:"abstract"},controller:"testCtrl"}).state("test.home",{url:"/testhome",templateUrl:"app/test/test_home.html",data:{menuType:["main","test"],menuName:"Test"}}).state("test.test1",{url:"/test1",templateUrl:"app/test/test1.html",data:{menuType:"test",menuName:"Test1"}}).state("test.test2",{url:"/test2",templateUrl:"app/test/test2.html",data:{menuType:"test",menuName:"Test2"}}).state("test.test3",{url:"/test3",templateUrl:"app/test/test3.html",data:{menuType:"test",menuName:"Test3"}}).state("test.test4",{url:"/test4",templateUrl:"app/test/test4.html",data:{menuType:"test",menuName:"Test4"}})}angular.module("app.core").config(["$stateProvider","$urlRouterProvider","$locationProvider",e])}(),function(){"use strict";function e(e,t){function a(){var e,t,a;a=document.getElementById("canvas01"),m=3,this.width<this.height?(e=this.width/this.width*g*m,t=this.height/this.width*g*m):(e=this.width/this.height*u*m,t=this.height/this.height*u*m),a.width=e,a.height=t,console.log(t),console.log(e),a.getContext("2d").drawImage(this,0,0,e,t)}function n(){var t=new Image;t.onload=a,t.src=e.canvasArray[d].src}function i(){var e=document.getElementById("file").files[0],t=new FileReader;t.onload=o,t.readAsDataURL(e)}function o(t){var a=new Image;a.onload=r,a.src=t.target.result,e.canvasArray.push(a),l()}function r(){var e,t,a,n,i;a=c(),n="canvas0"+a.position.toString(),i=document.getElementById(n),m=1==a.position?3:1,this.width<this.height?(e=this.width/this.width*g*m,t=this.height/this.width*g*m):(e=this.width/this.height*u*m,t=this.height/this.height*u*m),i.width=e,i.height=t,i.getContext("2d").drawImage(this,0,0,e,t)}function c(){var t=e.canvasArray.length,a={position:t};return a}function l(){document.getElementById("file").value="",console.log(e.canvasArray.length),e.canvasArray.length>3&&(console.log("changing input tag value"),e.$apply(function(){e.inputTag=!1})),e.inputText=e.inputTextArray[e.canvasArray.length],console.log(e.inputText),e.$apply()}function s(){e.inputText=e.inputTextArray[0]}var m,d,u=100,g=75;e.canvasArray=[],e.picOrder=[1,2,3,4],e.inputText="",e.inputTextArray=["Select a Main Image","Select a Second Image","Select a Third Image","Select a Fourth Image",""],e.inputTag={show:!0},e.test="testing",e.add=function(){var e=document.getElementById("file").files;console.log(e),i()},e.setMain=function(t){console.log(t.target.attributes.id.value),d=Number(t.currentTarget.getAttribute("data-position")),console.log(e.canvasArray),n()},e.downloadImages=function(){console.log("downloading images"),t.get("/images/getImages").then(function(e){var t=new Image;t.onload=function(){var e=document.querySelector("#canvas05"),t=600,a=900;e.width=t,e.height=a,e.getContext("2d").drawImage(this,0,0,this.width,this.height)},t.src="http://localhost:3000/34b1ccd71bfbf26c7efae5c16cfc51a0"})["catch"](function(e,t){console.log(t),console.log(e)})},e.getCachedImage=function(){var e=new Image;e.onload=function(){var e=document.querySelector("#canvas06"),t=600,a=900;e.width=t,e.height=a,e.getContext("2d").drawImage(this,0,0,this.width,this.height)},e.src="http://localhost:3000/34b1ccd71bfbf26c7efae5c16cfc51a0"},e.uploadFile=function(e){var t=e.target.files;console.log(t),console.log("uploadFile called")},s()}angular.module("app.test").controller("test1Ctrl",e),e.$inject=["$scope","$http"],angular.module("app.test").directive("customOnChange",function(){return{restrict:"A",link:function(e,t,a){var n=e.$eval(a.customOnChange);t.bind("change",n)}}})}(),function(){"use strict";function e(e){function t(t){var n;n=new Image,n.onload=a,n.src=e.imageArray[t].image.src}function a(e){var t,a,o,r;u=3,this&&(e=this),t=l(e.height,e.width,u),o=t.width,r=t.height,a=document.getElementById("mainImage"),a.width=o,a.height=r,a.getContext("2d").drawImage(e,0,0,o,r),a.addEventListener("mouseout",n,!1),a.addEventListener("mousemove",i,!1)}function n(e){console.log("mouse moved out of canvas");document.getElementById("divZoom")}function i(e){var t,a;console.log(e),console.log("mouse moved"),t=document.getElementById("zoomImage"),a=o(e);(this.width-a.x)/2,(this.height-a.y)/2;t.width=this.width,t.height=this.height,t.getContext("2d").drawImage(this,0,0,this.width,this.height,0,0,500,500)}function o(e){var t,a;return t=document.getElementById("mainImage"),a=t.getBoundingClientRect(),{x:e.clientX-a.left,y:e.clientY-a.top}}function r(t){var a,n;n=new Image,n.onload=c,n.src=t.target.result,a=e.imageArray.length,e.imageArray.push({position:a,image:n}),m()}function c(){var e,t,n,i;e=s(),t="image0"+e.position.toString(),n=document.getElementById(t),u=1,i=l(this.height,this.width,u),n.width=i.width,n.height=i.height,n.getContext("2d").drawImage(this,0,0,i.width,i.height),e.isSelected&&a(this)}function l(e,t,a){var n,i,o;return t<e?(i=t/t*p*a,n=e/t*p*a):(i=t/e*g*a,n=e/e*g*a),o={height:n,width:i}}function s(){var t,a,n;return t=e.imageArray.length,a=1==t,n={position:t,isSelected:a}}function m(){document.getElementById("addImage").value="",e.imageArray.length>3&&e.$apply(function(){e.inputTag=!1}),e.position=e.imageArray[-1].position,e.imageArray.length?e.inputText=e.inputTextArray[e.imageArray.length]:e.inputText=e.inputTextArray[0],e.$apply()}function d(){console.log("test2Ctrl activated")}var u,g=100,p=75;e.imageArray=[],e.inputTextArray=["Select a Main Image","Select a Second Image","Select a Third Image","Select a Fourth Image",""],e.inputTag={show:!0},e.inputText=e.inputTextArray[0],e.uploadFile=function(e){var t,a;t=e.currentTarget.files[0],a=new FileReader,a.onload=r,a.readAsDataURL(t)},e.setMain=function(e){var a;a=Number(e.currentTarget.getAttribute("data-position")),t(a)},e.createCanvas=function(){var e=document.createElement("canvas");e.setAttribute("id","zoomImage"),document.getElementById("divZoom").appendChild(e)},d()}angular.module("app.test").controller("test2Ctrl",e),e.$inject=["$scope"],angular.module("app.test").directive("customOnChange2",function(){return{restrict:"A",link:function(e,t,a){var n=e.$eval(a.customOnChange2);t.bind("change",n)}}})}(),function(){"use strict";function e(){function e(){console.log("test3Ctrl activated")}e()}angular.module("app.test").controller("test3Ctrl",e),e.$inject=[]}(),function(){"use strict";function e(e,t){function a(){console.log("myCtrl activated")}e.bread="bread bread bread",t(function(){e.bread="garbage garbage garbage"},3e3),a()}angular.module("app.test").controller("testCtrl4",e),e.$inject=["$scope","$timeout"]}(),function(){"use strict";function e(e,t,a){function n(t,a,n,i){t.$broadcast("testBroadcast"),console.log(n),t.$watch("bread",function(a){console.log(a),e(function(){console.log(t),t.$apply(function(){t.bread="man man man"}),console.log(t)},5e3)})}function i(e){e.test="testing orangeSection directive",this.setBread=function(t){e.bread=t,e.$apply()}}var o={require:"orangeSection",restrict:"E",scope:{bread:"="},transclude:!1,link:n,controller:i,replace:!0};return o}function t(){function e(e,t,a,n){console.log("viewOrangeLink");var i=n[0];console.log(i+" somethingAWEFUL"),t.bind("input",function(t){i.setBread(e.bread)})}function t(e){console.log("viewOrangeCtrl")}var a={require:["^orangeSection","viewOrange"],replace:!0,restrict:"E",scope:!0,link:e,controller:t,templateUrl:"app/test/test4_orange.html"};return a}function a(){function e(e,t,a,n){var i=n[0];console.log(i.test+"garbage")}function t(e){e.$on("testBroadcast",function(){console.log("GOT IT")})}var a={require:["^orangeSection","addOrange"],restrict:"E",scope:!0,link:e,controller:t,replace:!0};return a}angular.module("app.test").directive("orangeSection",e),angular.module("app.test").directive("viewOrange",t),angular.module("app.test").directive("addOrange",a)}(),function(){"use strict";function e(){function e(){console.log("User Controller activated")}var t=this;e(),t.subMenu={menuType:"user"}}angular.module("app.user").controller("userCtrl",e)}(),function(){"use strict";function e(e,t,a,n){function i(e){var t={id:e},i=a.deleteCategory(t);i.then(function(e){n.createMessage(4e3,"category deleted","success",s),s.categories=e.data})}function o(e,t){var i={id:e,title:t},o=a.updateCategory(i);o.then(function(e){n.createMessage(4e3,"category updated","success",s),s.categories=e.data,s.updatedCategoryName="",s.showUpdateField=!1})}function r(e){var t={title:e},i=a.createCategory(t);i.then(function(e){n.createMessage(4e3,"category created","success",s),s.categories=e.data,s.newCategoryName=""})}function c(){var e=a.getCategories();e.then(function(e){s.categories=e})}function l(){c()}var s=this;s.categories=[],s.showUpdateField=!1,s.reverse=!1,s.createCategory=function(e){r(e)},s.editCategory=function(e){s.showUpdateField=!0,s.updatedCategoryName=e.title,s.updatedCategoryId=e._id},s.updateCategory=function(e,t){o(e,t)},s.removeCategory=function(e){i(e)},s.doSort=function(){s.reverse=!s.reverse},l()}angular.module("app.category").controller("manageCategoryCtrl",e),e.$inject=["$state","$stateParams","categoryService","messageService"]}(),function(){function e(e,t,a,n,i,o){function r(){var e,t;console.log("admin add item controller activated 555"),e=n.getCategories(),e.then(function(e){c.categories=e}),console.log("calling Promise B"),t=i.getProvinces(),t.then(function(e){c.locations=e})}var c=this;c.message={},c.picArray=[""],c.editPic=[],c.picFile=[],c.addPicture=function(t){t&&!t.$error&&(c.picArray.push(t),e.$apply(),console.log(c.picArray))},c.addItem=function(e,a){console.log("logging files"),console.log(e),e.splice(0,1),console.log(e),Upload.upload({url:"/item/createItems",arrayKey:"",data:{files:e,data:a}}).then(function(e){t(function(){c.result=e.data,o.createMessage(4e3,"item created","success",c),c.item="",c.picArray=[""]})},function(e){e.status>0&&(c.errorMsg=e.status+":"+e.data)},function(e){c.progress=Math.min(100,parseInt(100*e.loaded/e.total))})},c.removePic=function(e){c.picArray.splice(e,1)},r()}angular.module("app.manageItems").controller("adminAddItemCtrl",e),e.$inject=["$scope","$timeout","itemService","categoryService","geoService","messageService"]}(),function(){"use strict";function e(e,t,a,n,i,o,r,c,l){function s(){var e=u.item;console.log(e);var t=r.updateItem(e);t.then(function(e){var t={duration:4e3,content:"item updated",type:"success"};a.go("admin.manageItem",{messageData:t})})}function m(){a.go(t.previousState)}function d(){0===Object.keys(n.item).length&&c.createMessage(4e3,"no item selected","danger",u),o.getProvinces().then(function(e){u.locations=e}).then(i.getCategories).then(function(e){u.categories=e,u.item=n.item,u.imageArray=l.processImageData(u.item),u.imageArray.length>0&&(u.showImages=!0)})}var u=this;u.showImages=!1,u.imageArray=[],u.updateItem=function(){s()},u.cancelEdit=function(){m()},d()}angular.module("app.manageItems").controller("adminEditItemCtrl",e),e.$inject=["$scope","$rootScope","$state","$stateParams","categoryService","geoService","itemService","messageService","imageService"]}(),function(){"use strict";function e(e,t,a,n){function i(){e.go("adminCreateItem")}function o(){var e=a.getAllItems();e.then(function(e){m.items=e})}function r(e){var t={id:e},i=a.deleteItem(t);i.then(function(e){m.items=e.data,n.createMessage(4e3,"item deleted","success",m)})}function c(t){e.go("admin.EditItem",{item:t})}function l(t){e.go("admin.ViewItem",{item:t})}function s(){if(t.messageData){var e=t.messageData;n.createMessage(e.duration,e.content,e.type,m)}o()}var m=this;m.items=[],m.showUpdatedItem=!1,m.reverse=!1,m.showAdddItem=!1,m.showAddItemForm=function(){m.showAddItem=!m.showAddItem},m.doSort=function(e){m.sortBy=e,m.reverse=!m.reverse},m.createItem=function(){i()},m.removeItem=function(e,t){var a=confirm("Are you sure you want to delete "+t+" with ID: "+e+"?");a&&r(e)},m.editItem=function(e){c(e)},m.viewItem=function(e){l(e)},s()}angular.module("app.manageItems").controller("adminManageItemCtrl",e),e.$inject=["$state","$stateParams","itemService","messageService"]}(),function(){"use strict";function e(e,t,a,n,i,o){function r(){console.log("view item controller activated"),0===Object.keys(a.item).length?n.createMessage(4e3,"no item selected","danger",s):(s.item=a.item,s.imageArray=o.processImageData(s.item),s.imageArray.length>0&&(s.showImages=!0))}function c(t){e.go("admin.EditItem",{item:t})}function l(){e.go(t.previousState)}var s=this;s.message="",s.item="",s.showImages=[],s.editItem=function(e){c(e)},s.cancelView=function(){console.log("cancel view called"),l()},r()}angular.module("app.manageItems").controller("adminViewItemCtrl",e),e.$inject=["$state","$rootScope","$stateParams","messageService","itemService","imageService"]}(),function(){"use strict";function e(){function e(){console.log("commentDetailCtrl activated")}e()}angular.module("app.manageComment").controller("commentDetailCtrl",e),e.$inject=[]}(),function(){"use strict";function e(){function e(){console.log("manageController activted")}e()}angular.module("app.manageComment").controller("manageCommentCtrl",e),e.$inject=[]}(),function(){"use strict";function e(){function e(){console.log("adminManageUserCtrl activated")}e()}angular.module("app.manageUsers").controller("adminManageUserCtrl",e),e.$inject=[];
}(),function(){"use strict";function e(){function e(){console.log("userDetail Controller activated")}e()}angular.module("app.manageUsers").controller("userDetailCtrl"),e.$inject=[]}(),function(){"use strict";function e(e,t,a,n,i,o,r,c,l,s){function m(){var a,n;a=r.getCategories(),a.then(function(a){t.categories=a,e.$broadcast("categoriesUpdated")}),n=c.getProvinces(),n.then(function(a){t.locations=a,e.$broadcast("locationsUpdated")})}function d(e){var t=new Blob([e.target.result]);window.URL=window.URL||window.webkitURL;var a=window.URL.createObjectURL(t);u(a)}function u(e){var a=new Image;a.src=e,a.onload=function(){var e=s.calcDimensions(this.height,this.width,3),a=e.height,n=e.width;console.log("galleryCanvas0"+t.currentPicSelection.slice(-1)),console.log(t.imageObject.gallery01.canvasName);var i=document.getElementById("galleryCanvas0"+t.currentPicSelection.slice(-1));i.height=3*l.images.maxHeight,i.width=3*l.images.maxWidth;var o=i.getContext("2d");o.fillStyle="#ffffff",o.fillRect(0,0,i.width,i.height);var r=(i.width-n)/2,c=(i.height-a)/2;i.getContext("2d").drawImage(this,0,0,this.width,this.height,r,c,n,a),g(i)}}function g(e){var a=e.toDataURL("image/jpeg",.6);t.urlObject.main=a,t.urlObject[t.currentPicSelection]=a;var n=s.dataUriToBlob(a);t.imageObject[t.currentPicSelection].blob=n,t.$apply()}t.images=[],t.inputText=l.images.picInputText[0],t.item={};var p=l.siteRoot+l.images.galleryImageSrc,v=l.siteRoot+l.images.mainImageSrc;t.urlObject={main:v,gallery01:p,gallery02:p,gallery03:p},t.imageObject={gallery01:{inputId:"file01",blob:null,fileName:"gallery01",main:!0,canvasName:l.images.canvas01},gallery02:{inputId:"file02",blob:null,fileName:"gallery02",main:!1,canvasName:l.images.canvas02},gallery03:{inputId:"file03",blob:null,fileName:"gallery03",main:!1,canvasName:l.images.canvas03}},t.currentPicSelection,t.selectPic=function(e){console.log(e);var a=e.currentTarget.id.slice(-2),n="file"+a,i=e.currentTarget.currentSrc;if(i==p)t.currentPicSelection=e.currentTarget.id,$('input[id="'+n+'"]').click();else{if(i==t.urlObject.main)return;t.urlObject.main=i}},t.addPic=function(e){if(window.File&&window.FileReader&&window.FileList&&window.Blob){var t,a;t=e.currentTarget.files[0],a=new FileReader,a.onload=d,a.readAsArrayBuffer(t)}else console.log("ERROR: The File APIs are not fully supported in ths browser.")},t.addItem=function(){var e=new FormData(document.forms[0]);e.append(l.images.canvas01,t.imageObject.gallery01.blob,t.imageObject.gallery01.fileName),e.append(l.images.canvas02,t.imageObject.gallery02.blob,t.imageObject.gallery02.fileName),e.append(l.images.canvas03,t.imageObject.gallery03.blob,t.imageObject.gallery03.fileName),o.addItem(e).then(function(e){var t=e.data,a=t.slug;console.log(t),console.log(a);var i={duration:4e3,content:"Item Created",type:"success"};n.go("viewitem",{id:a,messageData:i,item:t})})["catch"](function(e){console.log(e)})},m()}angular.module("app.additem").controller("addItemCtrl",e),e.$inject=["$rootScope","$scope","$q","$state","$http","itemService","categoryService","geoService","config","imageService"]}(),function(){"use strict";function e(e,t){function a(){console.log("additem_detailsCtrl activated")}t.cat="",e.$on("categoriesUpdated",function(e){t.$apply,console.log("categories updated")}),e.$on("locationsUpdated",function(e){t.$apply,console.log("locations updated")}),a()}angular.module("app.additem").controller("additem_detailCtrl",e),e.$inject=["$rootScope","$scope"]}(),function(){"use strict";function e(e){function t(){console.log("additem_imageCtrl activated")}t()}angular.module("app.additem").controller("additem_imageCtrl",e),e.$inject=["$scope"]}(),function(){"use strict";function e(){function e(){console.log("editItemCtrl activated")}e()}angular.module("app.edititem").controller("editItemCtrl",e)}(),function(){function e(e,t,a,n,i,o,r,c,l,s,m){function d(){if(a.item)p.item=a.item,u();else{var e=o.getOneItem(a.id);e.then(function(e){p.item=e[0],console.log(p.item),u()})}}function u(){if(a.messageData){var e=a.messageData;c.createMessage(e.duration,e.content,e.type,p)}p.item&&p.item.images?(p.item.images=JSON.parse(p.item.images),p.urlObject=r.buildImageUrls(p.item.images)):p.urlObject=r.buildPlaceholderImageUrls(),p.item&&p.item.category_id&&(p.item.categoryName=l.getCategoryById(p.item.category_id)),p.item&&p.item.discussion_id&&p.item._id?(p.commentDetails.parentId=p.item._id,p.commentDetails.discussionId=p.item.discussion_id):console.log("unable to request comments...")}function g(){e.previousState?t.go(e.previousState):t.go("main.home")}var p=this,v=s.siteRoot+s.images.galleryImageSrc;p.item=null,p.commentDetails={discussionId:null,discussionType:"item",parentId:null},p.cancelView=function(){console.log("cancel view called"),g()},p.urlObject={main:null,gallery01:null,gallery02:null,gallery03:null},p.selectPic=function(e){var t=e.currentTarget.currentSrc;t!=v&&t!=p.urlObject.main&&(p.urlObject.main=t)},d()}angular.module("app.viewitem").controller("viewItemCtrl",e),e.$inject=["$rootScope","$state","$stateParams","$scope","$q","itemService","imageService","messageService","categoryService","config","$timeout"]}(),function(){"use strict";function e(e){function t(t){function a(){console.log("add comment Ctrl")}var n=this;n.postComment=function(){var e=n.commentText,a="<AUTHOR_NAME>",i=null,o=null;t.$broadcast("postMessage",e,a,i,o)},t.$on("messageAdded",function(t){console.log("creating message"),e.createMessage(3e3,"Comment Added","success",n)}),a()}function a(e,t,a,n){var i,o;n[0]&&(i=n[0]),n[1]&&(o=n[1]),e.$on("postMessage",function(e,t,a,n,o){i.postComment(t,a,n,o)})}var n={require:["^commentSection","addComment"],bindToController:!0,link:a,controller:t,controllerAs:"vm",restrict:"E",scope:{},templateUrl:"app/core/comment/add_comment.html"};return n}angular.module("app.core").directive("addComment",e),e.$inject=["messageService"]}(),function(){"use strict";function e(e,t,a){function n(t){function n(){t.$watchCollection("vm.commentDetails",function(e,t){i.commentDetails.discussionId&&i.commentDetails.discussionType&&i.getComments()})}var i=this;i.details={pageNumber:1,pageSize:20},n(),console.log(t),i.getComments=function(){e.getThread(i.discussionId,i.type,i.details.pageNumber,i.details.pageSize).then(function(e){console.log(e),a.$broadcast("commentData",e)})},i.postComment=function(t,n,o,r){var c={parentId:i.id,parentSlug:r,discussionId:i.discussionId,type:i.type,text:t,authorName:n,authorId:o};e.postComment(c).then(function(e){console.log("comment Added"),a.$broadcast("messageAdded")})}}function i(e,t,a,n){console.log("comment section Link")}var o={require:"commentSection",link:i,controller:n,controllerAs:"vm",restrict:"E",scope:{commentDetails:"="},bindToController:!0};return o}angular.module("app.core").directive("commentSection",e),e.$inject=["commentService","$timeout","$rootScope"]}(),function(){"user strict";function e(e){function t(t){function a(e){return e}function n(e){return console.log("XHR Failed for add Comment")}return e.post("/comment/post",t).success(a)["catch"](n)}function a(t){function a(e){return e}function n(e){return console.log("XHR Failed for respond Comment")}return e.post("/comment/respond",t).success(a)["catch"](n)}function n(t,a,n,i){function o(e){return e.data}function r(e){console.log("XHR Failed for getComments")}console.log("get Thread called");var c=!0;1!=n&&"1"!=n||(c=!1);var l={params:{pageNumber:n,pageSize:i,discussionId:t,discussionType:a},cache:c};return e.get("/comment/"+t+"/"+n,l).then(o)["catch"](r)}function i(t,a,n){function i(e){return e.data}function o(e){console.log("XHR Failed for get Comments by User")}var r=!0;1!=n&&"1"!=n||(r=!1);var c={params:{pageNumber:n,pageSize:a,userId:t},cache:r};return e.get("comment/byUser/"+t,c).then(i)["catch"](o)}function o(t){function a(e){return e}function n(e){return console.log("XHR Failed for delete Comment")}return e["delete"]("comment/remove/:commentId").success(a)["catch"](n)}function r(t){function a(e){return e}function n(e){return console.log("XHR Failed for update Comment")}var i=t.commentId;return e.put("comment/update/"+i,t).success(a)["catch"](n)}var c={postComment:t,respondComment:a,getThread:n,getByUser:i,removeComment:o,updateComment:r};return c}angular.module("app.core").factory("commentService",e),e.$inject=["$http"]}(),function(){"use strict";function e(e){function t(t){function a(){}var n=this;n.postResponse=function(){var e=n.commentText,a=n.parentSlug,i="<AUTHOR_NAME>",o=null;t.$broadcast("respondMessage",e,i,o,a)},t.$on("messageAdded",function(t){console.log("creating message"),e.createMessage(3e3,"Comment Added","success",n)}),a()}function a(e,t,a,n){var i=(n[0],n[1],n[2]);e.$on("respondMessage",function(e,t,a,n,o){console.log("respondMessage received"),i.postComment(t,a,n,o)})}var n={require:["respondComment","^viewComments","^commentSection"],bindToController:!0,link:a,controller:t,controllerAs:"vm",restrict:"E",scope:{parentSlug:"="},templateUrl:"app/core/comment/respond_comment.html"};return n}angular.module("app.core").directive("respondComment",e),e.$inject=["messageService"]}(),function(){"use strict";function e(){function e(e){function t(){console.log("view comment Ctrl")}var a=this;e.$on("commentData",function(e,t){console.log("results received"),console.log(t),a.comments=t}),t()}function t(e,t,a,n){n[0],n[1];e.$on("newCommentData",function(e,t){console.log("results received by the link function"),console.log(t)}),e.$on("test",function(e,t){console.log(t)}),console.log("view comment Link")}var a={require:["^commentSection","viewComments"],link:t,bindToController:!0,controller:e,controllerAs:"vm",restrict:"E",scope:{},templateUrl:"app/core/comment/view_comment.html"};return a}angular.module("app.core").directive("viewComments",e),e.$inject=[]}(),function(){"use strict";function e(e,t,a,n,i,o,r){function c(){console.log("getting items...");var e,t,n;n=d(),e=g(),t=u(),a.getItems(e,t,n).then(function(e){f.items=e,l(),f.items=r.buildThumbUrls(f.items)})["catch"](function(e){console.log(e)})}function l(){console.log("getting next page items"),f.page.nextPage=f.page.currentPage+1,a.getItems(f.page.nextPage,f.page.pageSize,f.category.currentCategory)}function s(t){console.log("change category called"),f.category.currentCategory=t;var a=p();e.go("main.query",a)}function m(){var t=p();e.go("main.query",t)}function d(){var a=t.category;return v(),console.log(f.category.categoryArray.indexOf(a)),a&&("all"==a?f.category.currentCategory=o.pagination.allCategories:f.category.categoryArray&&f.category.categoryArray.indexOf(a)==-1?(console.log("category not identified.... redirecting to home page"),e.go("main.home")):f.category.currentCategory=a),f.category.currentCategory}function u(){return f.page.pageSize}function g(){return""!==t.page&&(f.page.currentPage=Number(t.page)),f.page.currentPage}function p(){var e={page:f.page.currentPage,category:f.category.currentCategory};return e}function v(){if(f.category.categories)for(var e=0;e<f.category.categories.length;e++)f.category.categoryArray.push(f.category.categories[e].title)}function h(){console.log("homeCtrl activated"),i.getCategories().then(function(e){f.category.categories=e,c()})}var f=this;f.breadCrumbArray=[],f.category={categories:null,change:s,currentCategory:"All Categories",categoryArray:[]},f.items=null,f.page={currentPage:1,previousPage:1,nextPage:2,maxSize:4,totalItems:500,rotate:!1,pageSize:10,change:m},f.viewItem=function(t){console.log("view item called"),console.log(t);var a={id:t};e.go("viewitem",a)},h()}angular.module("app.home").controller("homeCtrl",e),e.$inject=["$state","$stateParams","itemService","breadCrumbService","categoryService","config","imageService"]}(),angular.module("app.core").run(["$templateCache",function(e){e.put("app/admin/admin.html",'<div data-ng-controller="adminCtrl as vm"><submenu-nav sub-menu=vm.subMenuType></submenu-nav><ol class=breadcrumb><li data-ng-repeat="b in vm.breadCrumbArray"><a ui-sref={{b.stateName}}>{{b.menuName}}</a></li></ol><ui-view></ui-view></div>'),e.put("app/admin/admin_home.html","admin home html"),e.put("app/layout/shell.html",'<div data-ng-controller="shellController as vm"><header><top-nav navline=vm.navline></top-nav></header></div>'),e.put("app/layout/submenu.html",'<nav class="navbar navbar-default"><div class=container-fluid><div class=navbar-header><button type=button class="navbar-toggle collapsed" data-toggle=collapse data-target=#bs-example-navbar-collapse-1 aria-expanded=false><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button></div><div class="collapse navbar-collapse" id=bs-example-navbar-collapse-1><ul class="nav navbar-nav"><li data-ng-repeat="i in vm.menuItems" data-ng-click="vm.isActive = $index" data-ng-class="{active: $index == vm.isActive}"><a ui-sref={{i.name}}>{{i.data.menuName}}</a></li></ul></div></div></nav>'),e.put("app/layout/top-nav.html",'<nav class="navbar navbar-inverse"><div class=navbar-header><a href="/" class=navbar-brand><span class=brand-title>{{vm.navline.title}}</span></a> <a class="btn navbar-btn navbar-toggle" data-toggle=collapse data-target=.navbar-collapse><span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></a></div><div id=navbar class="collapse navbar-collapse"><ul class="nav navbar-nav"><li data-ng-repeat="i in vm.menuItems" data-ng-click="vm.isActive = $index" data-ng-class="{active: $index == vm.isActive}"><a ui-sref={{i.name}}>{{i.data.menuName}}</a></li></ul><div class="navbar-collapse collapse"><div class="pull-right navbar-logo"><ul class="nav navbar-nav pull-right"><li><a ng-href={{vm.navline.link}} target=_blank>{{vm.navline.text}}</a></li><li class="dropdown dropdown-big"><a ng-href target=_blank><img src=/images/assets/icon.png></a></li><li><a ng-href target=_blank><img src=/images/assets/icon.png "></a></li></ul></div></div></div></nav>'),e.put("app/main/main.html",'<div data-ng-controller="mainCtrl as vm"><submenu-nav sub-menu=vm.subMenuType></submenu-nav><ol class=breadcrumb><li data-ng-repeat="b in vm.breadCrumbArray"><a ui-sref={{b.stateName}}>{{b.menuName}}</a></li></ol><ui-view></ui-view></div>'),e.put("app/signup/signup.html",'<div data-ng-controller="signUpCtrl as vm">singup page</div>'),e.put("app/test/test.html",'<div data-ng-controller="testCtrl as vm"><submenu-nav sub-menu=vm.subMenuType></submenu-nav><ui-view></ui-view></div>'),e.put("app/test/test1.html",'<div data-ng-controller=test1Ctrl>test1 page<div class=row><div class=col-md-2></div><div class=col-md-4><div class=row><canvas id=canvas01 class=gallery></canvas></div><div class=row><canvas id=canvas02 data-position=1 class=gallery ng-click=setMain($event)></canvas><canvas id=canvas03 data-position=2 class=gallery ng-click=setMain($event)></canvas><canvas id=canvas04 data-position=3 class=gallery ng-click=setMain($event)></canvas></div></div><div class=col-md-6><span ng-if=inputTag.show><label for=file>{{inputText}}</label> <input type=file id=file name=file> <button ng-click=add()>Add</button></span><div><label for=order>Select picture order</label><select id=order><option data-ng-repeat="i in picOrder" value=i>{{i}}</option></select></div><label for=uploadImage>Upload Image</label> <input type=file id=uploadImage custom-on-change=uploadFile><div><label for=imageReview>Image Review</label> <img id=imageReview ng-src={{imageReview}}></div><canvas id=canvas05></canvas><button id=downloadImage data-ng-click=downloadImages()>Download Image</button></div><div><canvas id=canvas06></canvas><button id=secondImage data-ng-click=getCachedImage()>get Cacehd Image</button></div></div></div>'),e.put("app/test/test2.html","<div data-ng-controller=test2Ctrl>test 2 Pic gallery<div class=row><div class=col-md-2></div><div class=col-md-4><div class=row><canvas id=mainImage data-position={{position}} class=gallery data-ng-click=createCanvas()></canvas></div><div class=row><canvas id=image01 data-position=0 data-ng-click=setMain($event)></canvas><canvas id=image02 data-position=1 data-ng-click=setMain($event)></canvas><canvas id=image03 data-position=2 data-ng-click=setMain($event)></canvas></div></div><div class=col-md-6><label for=addImage>{{inputText}}</label> <input type=file id=addImage name=file custom-on-change2=uploadFile></div><div id=divZoom></div></div></div>"),e.put("app/test/test3.html",'<div data-ng-controller=test3Ctrl>test 3 Tabs<form name=outerForm class=tab-form-demo><uib-tabset><uib-tab heading="Form Tab"><ng-form name=nestedForm><div class=form-group><label>Name</label> <input type=text class=form-control required ng-model=model.name></div></ng-form></uib-tab><uib-tab heading="Tab One">Some Tab Content</uib-tab><uib-tab heading="Tab Two">More Tab Content</uib-tab></uib-tabset></form></div>'),e.put("app/test/test4.html",'<div data-ng-controller="testCtrl4 as vm">{{bread}}<orange-section data-bread=vm.bread><view-orange></view-orange><add-orange></add-orange></orange-section></div>'),e.put("app/test/test4_orange.html","<div>testing me {{bread}} <input type=text ng-model=bread></div>"),e.put("app/test/test_home.html","test home page"),e.put("app/user/user.html",'<div data-ng-controller="userCtrl as vm"><submenu-nav sub-menu=vm.subMenu></submenu-nav></div>'),e.put("app/admin/category/manage_category.html",'<div class=container data-ng-controller="manageCategoryCtrl as vm"><div data-ng-show=vm.message.show><uib-alert type={{vm.message.type}}>{{vm.message.content}}</uib-alert></div><h3>Manage Categories</h3><div data-ng-show=vm.showUpdateField><h4>Update Category</h4><div class=input-group><input data-ng-model=vm.updatedCategoryName type=text class=form-control placeholder="Category Name..."> <span class=input-group-btn><button data-ng-click="vm.updateCategory(vm.updatedCategoryId, vm.updatedCategoryName);" class="btn btn-default" type=button>Save</button></span></div></div><div><h4>Add Category</h4><div class=input-group><input data-ng-model=vm.newCategoryName type=text class=form-control placeholder="Create Category..."> <span class=input-group-btn><button data-ng-click=vm.createCategory(vm.newCategoryName); class="btn btn-default" type=button>Create</button></span></div></div><div><h4>Filter</h4><input data-ng-model=searchText type=text class=form-control placeholder=Search...></div><table class="table table-striped"><thead><tr><td class=col-md-5 data-ng-click=vm.doSort();>Category Id</td><td class=col-md-5 data-ng-click=vm.doSort();>Category</td><td class=col-md-1>&nbsp;</td><td class=col-md-1>&nbsp;</td></tr></thead><tbody><tr data-ng-repeat="category in vm.categories | filter:searchText | orderBy:\'title\':vm.reverse"><td>{{category._id}}</td><td>{{category.title}}</td><td><button data-ng-click=vm.editCategory(category); class="btn btn-warning pull-right"><span class="glyphicon glyphicon-pencil"></span></button></td><td><button data-ng-click=vm.removeCategory(category._id); class="btn btn-danger pull-right"><span class="glyphicon glyphicon-remove"></span></button></td></tr></tbody></table></div>'),e.put("app/admin/item/add_item.html",'<div class=container data-ng-controller="adminAddItemCtrl as vm"><div data-ng-show=vm.message.show><uib-alert type={{vm.message.type}}>{{vm.message.content}}</uib-alert></div><h3>Post Item</h3><form data-ng-submit="vm.addItem(vm.picArray, vm.item);"><div class=form-group><label>Item Title</label> <input type=text class=form-control data-ng-model=vm.item.title name=title placeholder="Enter Title"></div><div class=form-group><label>Category</label><select class=form-control data-ng-model=vm.item.category name=category><option data-ng-repeat="category in vm.categories" value={{category.title}}>{{category.title}}</option></select></div><div class=form-group><label>Description</label> <textarea type=text class=form-control data-ng-model=vm.item.description name=description placeholder="Enter Item Description">\r\n\t</textarea></div><div class=form-group><label>Price</label> <input type=number class=form-control data-ng-model=vm.item.price name=Price placeholder="Enter Amount"></div><div class=form-group><label>Location</label><select class=form-control data-ng-model=vm.item.geolocation name=location><option data-ng-repeat="location in vm.locations" value={{location.Province}}>{{location.Province}}</option></select><button type=submit class="btn btn-default">Submit</button> <a class="btn btn-danger" href="/">Cancel</a></div></form><div class="col-md-4 col-xs-12" data-ng-repeat="i in vm.picArray"><input type=file ngf-select=vm.addPicture($file); data-ng-model=vm.picFile[$index] ngf-multiple=false name=file id=file accept=image/* ngf-max-size=1MB data-ng-hide=vm.picFile[$index] require class=inputfile> <label for=file>Choose a file</label> <img ngf-src=vm.picFile[$index] class=thumb> <button data-ng-click=vm.removePic($index); data-ng-show=vm.picFie[$index]>Remove</button></div>{{errorMsg}}<div data-ng-repeat="i in vm.picArray"><div ngf-background={{i}}></div></div></div>'),e.put("app/admin/item/edit_item.html",'<div class=container data-ng-controller="adminEditItemCtrl as vm"><div data-ng-show=vm.message.show><uib-alert type={{vm.message.type}}>{{vm.message.content}}</uib-alert></div><h3>Edit Item</h3><form data-ng-submit=vm.updateItem();><h4>Created On</h4><p>{{vm.item.created | date:\'medium\'}}</p><div class=form-group><label>Item Title</label> <input type=text class=form-control data-ng-model=vm.item.title name=title placeholder="Enter Title"></div><div class=form-group><label>Category</label><select class=form-control data-ng-model=vm.item.category name=category><option data-ng-repeat="category in vm.categories" value={{category.title}}>{{category.title}}</option></select></div><div class=form-group><label>Description</label> <textarea type=text class=form-control data-ng-model=vm.item.description name=description placeholder="Enter Item Description">\r\n\t</textarea></div><div class=form-group><label>Price</label> <input type=number class=form-control data-ng-model=vm.item.price name=Price placeholder="Enter Amount"></div><div class=form-group><label>Location</label><select class=form-control data-ng-model=vm.item.geolocation name=location><option data-ng-repeat="location in vm.locations" value={{location.Province}}>{{location.Province}}</option></select><button type=submit class="btn btn-default">Submit</button> <button type=button class="btn btn-danger" data-ng-click=vm.cancelEdit();>Cancel</button></div></form><h4>Images</h4><div data-ng-show=vm.showImages data-ng-repeat="image in vm.imageArray track by $index"><img ng-src={{vm.imageArray[$index]}}></div></div>'),e.put("app/admin/item/manage_item.html",'<div class=container data-ng-controller="adminManageItemCtrl as vm"><div data-ng-show=vm.message.show><uib-alert type={{vm.message.type}}>{{vm.message.content}}</uib-alert></div><h3>Manage Items</h3><div data-ng-show=vm.showUpdateItem><h4>Update Item</h4><div class=input-group><input data-ng-model=vm.updatedItemName type=text class=form-control placeholder="Item Name..."> <span class=input-group-btn><button data-ng-click="vm.updateItem(vm.updatedItemId, vm.updatedItemName);" class="btn btn-default" type=button>Save</button></span></div></div><div><h4>Filter</h4><input data-ng-model=searchText type=text class=form-control placeholder=Search...></div><table class="table table-striped"><thead><tr><td class=col-md-1 data-ng-click="vm.doSort(\'_id\');">Item Id</td><td class=col-md-1 data-ng-click="vm.doSort(\'title\');">Name</td><td class=col-md-1 data-ng-click="vm.doSort(\'category\');">Category</td><td class=col-md-1 data-ng-click="vm.doSort(\'price\');">Price</td><td class=col-md-1 data-ng-click="vm.doSort(\'geolocation\');">Location</td><td class=col-md-3 data-ng-click="vm.doSort(\'created\');">Created / Created By</td><td class=col-md-3 data-ng-click="vm.doSort(\'updated\');">Updated / Updated By</td><td class=col-md-1>&nbsp;</td></tr></thead><tbody><tr data-ng-repeat="item in vm.items | filter:searchText | orderBy:vm.sortBy:vm.reverse"><td>{{item._id}}</td><td>{{item.title}}</td><td>{{item.category}}</td><td>{{item.price}}</td><td>{{item.geolocation}}</td><td>{{item.created | date:"medium"}}</td><td>{{item.updated | date:"medium"}}</td><td><button data-ng-click=vm.viewItem(item); class="btn btn-success pull-right"><span class="glyphicon glyphicon-eye-open"></span></button></td><td><button data-ng-click=vm.editItem(item); class="btn btn-warning pull-right"><span class="glyphicon glyphicon-pencil"></span></button></td><td><button data-ng-click="vm.removeItem(item._id, item.title);" class="btn btn-danger pull-right"><span class="glyphicon glyphicon-remove"></span></button></td></tr></tbody></table></div>'),e.put("app/admin/item/view_item.html",'<div class=container data-ng-controller="adminViewItemCtrl as vm"><div data-ng-show=vm.message.show><uib-alert type={{vm.message.type}}>{{vm.message.content}}</uib-alert></div><h3>View Item</h3><h4>Title</h4><p>{{vm.item.title}}</p><h4>Created On</h4><p>{{vm.item.created | date:\'medium\'}}</p><h4>Category</h4><p>{{vm.item.category}}</p><h4>Description</h4><p>{{vm.item.description}}</p><h4>Price</h4><p>{{vm.item.price}}</p><h4>Location</h4><p>{{vm.item.location}}</p><button data-ng-click=vm.editItem(vm.item) class="btn btn-default">Edit</button> <button type=button class="btn btn-danger" data-ng-click=vm.cancelView()>Cancel</button><div data-ng-show=vm.showImages data-ng-repeat="image in vm.imageArray track by $index"><img ng-src={{vm.imageArray[$index]}}></div></div>'),e.put("app/admin/comment/comment_detail..html","<div data-ng-controller=commentDetailCtrl>comment detail controller</div>"),e.put("app/admin/comment/manage_comment.html","<div data-ng-controller=manageCommentCtrl>manage comment page</div>"),e.put("app/admin/user/manage_user.html",'<div data-ng-controller="adminManageUserCtrl as vm">manage users controller</div>'),e.put("app/admin/user/user_detail.html",""),e.put("app/item/additem/additem.html",'<div class=container data-ng-controller=addItemCtrl><h3>Post Item</h3><div class=row><div class=col-md-1></div><div class=col-md-4><div class=row><div class=col-md-12><a class="thumbnail handOnHover" target=_self><img ng-src={{urlObject.main}} id=main data-ng-click=zoom($event);></a></div></div><div class=row><div class=col-md-4><a class="thumbnail handOnHover" target=_self><img src={{urlObject.gallery01}} id=gallery01 data-ng-click=selectPic($event);></a></div><div class=col-md-4><a class="thumbnail handOnHover" target=_self><img src={{urlObject.gallery02}} id=gallery02 data-ng-click=selectPic($event);></a></div><div class=col-md-4><a class="thumbnail handOnHover" target=_self><img src={{urlObject.gallery03}} id=gallery03 data-ng-click=selectPic($event);></a></div></div></div><div class=col-md-1></div><div class=col-md-6><form data-ng-submit=addItem(); enctype=multipart/form-data><uib-tabset><uib-tab heading=details><div data-ng-include="\'app/item/additem/additem_detail.html\'"></div></uib-tab><uib-tab heading=images><div data-ng-include="\'app/item/additem/additem_image.html\'"></div></uib-tab></uib-tabset></form></div></div><comments></comments><input type=file id=file01 class=hidden on-change=addPic> <input type=file id=file02 class=hidden on-change=addPic> <input type=file id=file03 class=hidden on-change=addPic><canvas id={{imageObject.gallery01.canvasName}} class=hidden></canvas><canvas id={{imageObject.gallery02.canvasName}} class=hidden></canvas><canvas id={{imageObject.gallery03.canvasName}} class=hidden></canvas></div>'),e.put("app/item/additem/additem_detail.html",'<div data-ng-controller=additem_detailCtrl><ng-form enctype=multipart/form-data><div class=form-group><label>Item Title</label> <input type=text class=form-control data-ng-model=$scope.item.title name=title placeholder="Enter Title"></div><div class=form-group><label>Category</label><select class=form-control data-ng-model=$scope.item.category name=category><option data-ng-repeat="category in categories" value={{category._id}}>{{category.title}}</option></select></div><div class=form-group><label>Description</label> <textarea type=text class=form-control data-ng-model=$scope.item.description name=description placeholder="Enter Item Description">\r\n        </textarea></div><div class=form-group><label>Price</label> <input type=number class=form-control data-ng-model=$scope.item.price name=Price placeholder="Enter Amount"></div><div class=form-group><label>Location</label><select class=form-control data-ng-model=$scope.item.geolocation name=location><option data-ng-repeat="location in locations" value={{location.Province}}>{{location.Province}}</option></select></div><button type=submit class="btn btn-default">Submit</button> <a class="btn btn-danger" href="/">Cancel</a><ng-form></ng-form></ng-form></div>'),e.put("app/item/additem/additem_image.html","<div data-ng-controller=additem_imageCtrl><div><label for=addImage>{{inputText}}</label> <input type=file id=addImage name=file custom-onchange=uploadFile class=inputfile></div></div>"),e.put("app/item/edititem/edititem.html",'<div data-ng-controller="editItemCtrl as vm"><h3>Edit Item</h3><form ng-submit=updateItem();><div class=form-group><label>Item Name</label> <input type=text class=form-control ng-model=item.name name=name placeholder="Enter Name"></div><div class=form-group><label>Category</label><select class=form-control ng-model=item.category name=category><option ng-repeat="category in categories" value={{category.name}}>{{category.name}}</option></select></div><div class=form-group><label>Item Description</label> <textarea type=text class=form-control ng-model=item.description name=description placeholder="Enter Item Description">\r\n\t</textarea></div><button type=submit class="btn btn-default">Submit</button> <a class="btn btn-danger" href="/">Cancel</a></form></div>'),e.put("app/item/viewitem/viewitem.html",'<div data-ng-controller="viewItemCtrl as vm"><div data-ng-show=vm.message.show><uib-alert type={{vm.message.type}}>{{vm.message.content}}</uib-alert></div><button data-ng-click=vm.cancelView(); class="btn btn-default">Go Back</button><h1>{{vm.item.title}}</h1><small>Posted on: <span ng-bind="vm.item.created | date:\'MM/dd/yyyy\'"></span></small><hr><div class=container><h3>View Item</h3><div class=row><div class=col-md-1></div><div class=col-md-4><div class=row><div class=col-md-12><a class="thumbnail handOnHover" target=_self><img ng-src={{vm.urlObject.main}} id=main data-ng-click=zoom($event);></a></div></div><div class=row><div class=col-md-4><a class="thumbnail handOnHover" target=_self><img ng-src={{vm.urlObject.gallery01}} id=gallery01 data-ng-click=vm.selectPic($event);></a></div><div class=col-md-4><a class="thumbnail handOnHover" target=_self><img ng-src={{vm.urlObject.gallery02}} id=gallery02 data-ng-click=vm.selectPic($event);></a></div><div class=col-md-4><a class="thumbnail handOnHover" target=_self><img ng-src={{vm.urlObject.gallery03}} id=gallery03 data-ng-click=vm.selectPic($event);></a></div></div></div><div class=col-md-1></div><div class=col-md-6><div class=form-group><h3>Item Title</h3><p class=form-control name=title>{{vm.item.title}}</p></div><div class=form-group><h3>Category</h3><p class=form-control name=category>{{vm.item.categoryName}}</p></div><div class=form-group><h3>Description</h3><p class=form-control name=description>{{vm.item.description}}</p></div><div class=form-group><h3>Price</h3><p class=form-control name=Price>{{vm.item.price}}</p></div><div class=form-group><h3>Location</h3><p class=form-control name=location>{{vm.item.geolocation}}</p></div><div class=actions><a href=/item/edit/{{item._id}} class="btn btn-default">Edit</a> <a href="/" class="btn btn-danger" ng-click=removeItem()>Delete</a></div></div></div><comment-section data-comment-details=vm.commentDetails><add-comment></add-comment><view-comments></view-comments></comment-section></div></div>'),e.put("app/core/comment/add_comment.html","<div data-ng-show=vm.message.show><uib-alert type={{vm.message.type}}>{{vm.message.content}}</uib-alert></div><label for=addComment>Add Comment</label> <textarea id=addComment type=text data-ng-model=vm.commentText></textarea> <button data-ng-click=vm.postComment();>submit</button>"),
e.put("app/core/comment/respond_comment.html","<label for=respondComment>Respond Comment</label> <textarea id=respondComment type=text data-ng-model=vm.commentText></textarea> <button data-ng-click=vm.postResponse();>submit</button>"),e.put("app/core/comment/view_comment.html","<p>Comments</p><div class=row data-ng-repeat=\"comment in vm.comments | orderBy : 'full_slug'\"><h4>{{comment.author_name}}</h4><h4>{{posted}}</h4><p>{{comment.text}}</p><respond-comment data-parent-slug=comment.full_slug></respond-comment></div>"),e.put("app/main/home/home.html",'<div class=container data-ng-controller="homeCtrl as vm"><div class=row><div class=col-md-3><h3 class=heading>Home Page</h3></div><div class=col-md-6></div><div class=col-md-3><div class=btn-group uib-dropdown dropdown-append-to-body><button id=btn-append-to-to-body type=button class="btn btn-primary categoryButton" uib-dropdown-toggle>{{vm.category.currentCategory}} <span class=caret></span></button><ul class=dropdown-menu uib-dropdown-menu role=menu aria-labelledby=btn-append-to-to-body><li role=menuitem data-ng-repeat="category in vm.category.categories"><a target=_self class=handOnHover data-ng-click=vm.category.change(category.title);>{{category.title}}</a></li><li class=divider></li><li role="Recently Posted"><a target=_self class=handOnHover data-ng-click="vm.category.change(\'All Categories\');">Just In...</a></li></ul></div></div></div><div class=row><div ng-repeat="item in vm.items track by $index"><div clas=row><div class=col-md-2><img ng-src={{item.thumbUrl}} class=thumb></div><div class=col-md-10><h4>{{item.title}}</h4><small>Posted on: <span ng-bind="item.created | date:\'MM/dd/yyyy\'"></span></small><p>{{item.description | limitTo:200}}</p><a class="btn btn-default" target=_self data-ng-click=vm.viewItem(item.slug);>details...</a></div></div></div></div><div class=row><div class="col-md-12 text-center"><uib-pagination max-size=vm.page.maxSize total-items=vm.page.totalItems ng-change=vm.page.change(); data-ng-model=vm.page.currentPage rotate=vm.page.rotate></uib-pagination></div></div></div>')}]);